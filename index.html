<!DOCTYPE html>
<html>
    <head>
        <title>Matthew Bierman</title>
        
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
        <!-- Bootstrap -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
        
        <!-- Font Awesome (Icons) -->
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
        
        <style type="text/css">
            body {
                margin: 0;
                padding: 0;
            }
            #background {
                position: fixed;
                transition: 0.5s;
            }
            #gameOfLife {
                position: fixed;
            }
            #aboutMe, #main, #portfolio {
                position: relative;
            }
            #name {
                color: white;
                display: table-cell;
                vertical-align: middle;
            }
            #name, #linkToAbout, #linkToPortfolio {
                text-align: center;
            }
            #aboutLinkText, #portfolioLinkText {
                text-decoration: none;
                color: white;
            }
            h1 {
                text-align: center;
                margin: 0;
                color: white;
            }
            #bio {
                text-align: justify;
                margin: 0;
                color: white;
            }
            #profile {
                width: 180px;
                height: 180px;
                object-fit: cover;
                border-radius: 50%;
                float: left;
                margin: 20px 20px 0px 20px;
            }
            #contactFormBtn {
                padding: 10px;
                border-radius: 10px;
                background-color: transparent;
                border: solid white 1px;
                color: white;
                text-align: center;
                transition: 0.5s;
            }
            #contactFormBtn:hover {
                background-color: white;
                color: black;
                transition: 0.5s;
            }
            #btn {
                text-align: center;
            }
            #portfolioTitle {
                padding-top: 10px;
                padding-bottom: 10px;
            }
            .project {
                margin: 10px;
                padding: 0;
                background-color: green;
            }
            .fill {
                display: flex;
                justify-content: center;
                align-items: center;
                overflow: hidden;
            }
            .fill img {
                flex-shrink: 0;
                min-width: 100%;
                min-height: 100%;
            }

            
        </style>
    </head>
    <body>
        <div id="background"></div>
        <canvas id="gameOfLife"></canvas>
        <div id="aboutMe">
            <h1 id="title">About Me</h1>
            <div>
                <img id="profile" src="profile.jpg">
                <p id="bio">Hi, my name is Matthew Bierman! I am currently a sophomore at the University of Texas at Dallas, majoring in Computer Science. I graduated from Faith Lutheran High School in Las Vegas, Nevada, where I was born and raised. During my time in Vegas, I enjoyed various internships, from working in post production on a documentary with Iacon Pictures to working in tech support with TLC Computer Solutions. In Texas, I now plan to strengthen my computer science skills and gain industry experience. Aside from programming, I enjoy travelling, cinematography, and photography in my free time.</p>
            </div>
            <div id="btn">
                <button id="contactFormBtn">want to work together?</button>
            </div>
        </div>
        <div id="main">
            <div id="linkToAbout">
                <a id="aboutLinkText" href="#aboutMe">
                    <i class="fa fa-chevron-up" aria-hidden="true"></i>
                    <br>
                    <span>About Me</span>
                </a>
            </div>
            <div id="name">Matthew Bierman</div>
            <div id="linkToPortfolio">
                <a id="portfolioLinkText" href="#portfolio">
                    <span>My Portfolio</span>
                    <br>
                    <i class="fa fa-chevron-down" aria-hidden="true"></i>
                </a>
            </div>
        </div>
        <div id="portfolio" class="container">
            <div class="row">
                <div class="col-sm-12">
                    <h1 id="portfolioTitle">Portfolio</h1>
                </div>
            </div>
            <div class="row justify-content-center">
                <ul class="nav nav-pills" role="tablist">
                    <li class="nav-item" data-filter="all">
                        <a class="nav-link active" data-toggle="tab" href="#0">All</a>
                    </li>
                    <li class="nav-item" data-filter=".software">
                        <a class="nav-link" data-toggle="tab" href="#0">Software</a>
                    </li>
                    <li class="nav-item" data-filter=".web-dev">
                        <a class="nav-link" data-toggle="tab" href="#0">Web Dev</a>
                    </li>
                    <li class="nav-item" data-filter=".photography">
                        <a class="nav-link" data-toggle="tab" href="#0">Photography</a>
                    </li>
                    <li class="nav-item" data-filter=".film">
                        <a class="nav-link" data-toggle="tab" href="#0">Film</a>
                    </li>
                    <li class="nav-item" data-filter=".vfx">
                        <a class="nav-link" data-toggle="tab" href="#0">VFX</a>
                    </li>
                    <li class="nav-item" data-filter=".3d-modeling">
                        <a class="nav-link" data-toggle="tab" href="#0">3D Modeling</a>
                    </li>
                </ul>
            </div>

            <div id="portfolioContainer" class="row justify-content-center">
                <div class="project fill mix software col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>
                <div class="project fill mix web-dev col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>
                <div class="project fill mix photography col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>
                <div class="project fill mix film col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>
                <div class="project fill mix vfx col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>
                <div class="project fill mix 3d-modeling col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>
                <div class="project fill mix software col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>
                <div class="project fill mix web-dev col-xl-2 col-lg-3 col-sm-4 col-xs-6">
                    <img src="http://via.placeholder.com/1920x1080">
                </div>

                <div class="gap"></div>
                <div class="gap"></div>
                <div class="gap"></div>
            </div>
        </div>
        
        <!-- jQuery -->
        <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>

        <!-- Tether -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>

        <!-- Bootstrap -->
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
        
        <!-- MixItUp -->
        <script src="mixitup.min.js"></script>
        
        <!-- JavaScript -->
        <script type="text/javascript">
            // general functions
            function print2dArray(arr) {
                var str = "";
                for (var i = 0; i < arr[0].length; i++)
                {
                    str += "[ ";
                    for (var j = 0; j < arr.length; j++)
                    {
                        if (j == arr.length - 1)
                            str += arr[j][i] + " ";
                        else
                            str += arr[j][i] + ", ";
                    }
                    str += "]\n";
                }
                console.log(str);
            }
            function clone(arr) {
                var xCoordCells = arr.length;
                var yCoordCells = arr[0].length;                
                
                var newArr = new Array(xCoordCells);
                for (var i = 0; i < xCoordCells; i++)
                {
                    newArr[i] = new Array(yCoordCells);
                    for (var j = 0; j < yCoordCells; j++)
                        newArr[i][j] = arr[i][j];
                }
                
                return newArr;
            }
            function sleep(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
            
            // functions for the canvas
            async function run(cells, ms) {
                var currWindowHeight = $(window).height();
                var currWindowWidth = $(window).width();
                var prevWindowHeight = currWindowHeight;
                var prevWindowWidth = currWindowWidth;
                
                // while the window size doesn't change while the game is running
                while (currWindowHeight == prevWindowHeight && currWindowWidth == prevWindowWidth)
                {
                    await sleep(ms);
                    cells = step(gridSize, cells);
                    drawAllCells(canvas, gridSize, cells);
                                        
                    prevWindowHeight = currWindowHeight;
                    prevWindowWidth = currWindowWidth;
                    currWindowHeight = $(window).height();
                    currWindowWidth = $(window).width();
                }
            }
            function setCanvasGrid(canvas, gridSize, addHeight) {
                canvas.height = $(window).height();
                canvas.width = $(window).width();
                
                $("body").height(canvas.height + addHeight);
                $("body").width(canvas.width);
                
                if (canvas.getContext)
                {
                    var ctx = canvas.getContext("2d");
                    ctx.fillStyle = 'black';
                    
                    for (var i = 1; i <= Math.floor(canvas.width / gridSize); i++)
                        ctx.fillRect((gridSize * i) - 1, 0, 2, canvas.height);
                    
                    for (var i = 1; i <= Math.floor(canvas.height / gridSize); i++)
                        ctx.fillRect(0, (gridSize * i) - 1, canvas.width, 2);
                }
            }
            function drawCell(canvas, x, y, gridSize, cellColor) {
                if (canvas.getContext)
                {
                    var ctx = canvas.getContext("2d");
                    ctx.fillStyle = cellColor;
                    
                    // cell at (0, 0)
                    if (x == 0 && y == 0)
                    {
                        ctx.clearRect(x, y, gridSize - 1, gridSize - 1);
                        ctx.fillRect(x, y, gridSize - 1, gridSize - 1);
                    }
                    
                    // first row
                    else if (y == 0)
                    {
                        ctx.clearRect((x * gridSize) + 1, (y * gridSize), gridSize - 2, gridSize - 1);
                        ctx.fillRect((x * gridSize) + 1, (y * gridSize), gridSize - 2, gridSize - 1);
                    }
                    
                    // first column
                    else if (x == 0)
                    {
                        ctx.clearRect((x * gridSize), (y * gridSize) + 1, gridSize - 1, gridSize - 2);
                        ctx.fillRect((x * gridSize), (y * gridSize) + 1, gridSize - 1, gridSize - 2);
                    }
                    
                    // all other cells
                    else
                    {
                        ctx.clearRect((x * gridSize) + 1, (y * gridSize) + 1, gridSize - 2, gridSize - 2);
                        ctx.fillRect((x * gridSize) + 1, (y * gridSize) + 1, gridSize - 2, gridSize - 2);
                    }
                }
            }
            function drawAllCells(canvas, gridSize, cells) {
                for (var i = 0; i < cells.length; i++)
                {
                    for (var j = 0; j < cells[0].length; j++)
                    {
                        if (cells[i][j] == 0)
                            drawCell(canvas, i, j, gridSize, 'black');
                        else
                            drawCell(canvas, i, j, gridSize, 'transparent');
                    }
                }
            }
            function initialState(canvas, gridSize) {
                // Get maximum number of cells for rows and columns
                var xCoordCells = Math.ceil(canvas.width / gridSize);
                var yCoordCells = Math.ceil(canvas.height / gridSize);
                
                // Create 2D array for cells
                var cells = new Array(xCoordCells);
                for (var i = 0; i < xCoordCells; i++)
                {
                    cells[i] = new Array(yCoordCells);
                    for (var j = 0; j < yCoordCells; j++)
                        cells[i][j] = 0;
                }
                
                // Initial state
                cells[2][2] = 1;
                cells[3][3] = 1;
                cells[3][4] = 1;
                cells[2][4] = 1;
                cells[1][4] = 1;               
                
                // Draw cells at their initial state
                for (var i = 0; i < xCoordCells; i++) {
                    for (var j = 0; j < yCoordCells; j++)
                    {
                        if (cells[i][j] == 0)
                            drawCell(canvas, i, j, gridSize, 'black');
                        else
                            drawCell(canvas, i, j, gridSize, 'transparent');
                    }
                }
                
                return cells;
            }
            function step(gridSize, cells) {
                var nextGeneration = clone(cells);
                
                // for every cell in the grid
                for (var i = 0; i < cells.length; i++)
                {
                    for (var j = 0; j < cells[0].length; j++)
                    {
                        var liveNeighbors = 0;
                        
                        // create 3x3 array for neighboring cells
                        var neighborCells = new Array(3);
                        for (var k = 0; k < 3; k++)
                        {
                            neighborCells[k] = new Array(3);
                            for (var l = 0; l < 3; l++)
                                neighborCells[k][l] = -1;
                        }
                        
                        // center is the cell itself
                        neighborCells[1][1] = "*";
                        
                        // if no cells exist on its left
                        if (i == 0)
                        {
                            neighborCells[0][0] = "N";
                            neighborCells[1][0] = "N";
                            neighborCells[2][0] = "N";
                        }
                        
                        // if no cells exist above it
                        if (j == 0)
                        {
                            neighborCells[0][0] = "N";
                            neighborCells[0][1] = "N";
                            neighborCells[0][2] = "N";
                        }
                        
                        // if no cells exist on its right
                        if (i == cells.length - 1)
                        {
                            neighborCells[0][2] = "N";
                            neighborCells[1][2] = "N";
                            neighborCells[2][2] = "N";
                        }
                        
                        // if no cells exist below it
                        if (j == cells[0].length - 1)
                        {
                            neighborCells[2][0] = "N";
                            neighborCells[2][1] = "N";
                            neighborCells[2][2] = "N";
                        }
                        
                        // check if neighboring cells are occupied
                        for (var k = 0; k < 3; k++)
                        {
                            for (var l = 0; l < 3; l++)
                            {
                                // if neighbor is out-of-bounds, wrap around to the opposite side of the grid
                                if (neighborCells[k][l] == "N")
                                {
                                    // top left
                                    if ((k == 0) && (l == 0) && (cells[((i - 1) == -1) ? (cells.length - 1) : (i - 1)][((j - 1) == -1) ? (cells[0].length - 1) : (j - 1)] != 0))
                                            liveNeighbors++;
                                    // center left
                                    else if ((k == 1) && (l == 0) && (cells[((i - 1) == -1) ? (cells.length - 1) : (i - 1)][j] != 0))
                                            liveNeighbors++;
                                    // bottom left
                                    else if ((k == 2) && (l == 0) && (cells[((i - 1) == -1) ? (cells.length - 1) : (i - 1)][((j + 1) == cells[0].length) ? 0 : (j + 1)] != 0))
                                            liveNeighbors++;
                                    // top middle
                                    else if ((k == 0) && (l == 1) && (cells[i][((j - 1) == -1) ? (cells[0].length - 1) : (j - 1)] != 0))
                                            liveNeighbors++;
                                    // bottom middle
                                    else if ((k == 2) && (l == 1) && (cells[i][((j + 1) == cells[0].length) ? 0 : (j + 1)] != 0))
                                            liveNeighbors++;
                                    // top right
                                    else if ((k == 0) && (l == 2) && (cells[((i + 1) == cells.length) ? 0 : (i + 1)][((j - 1) == -1) ? (cells[0].length - 1) : (j - 1)] != 0))
                                            liveNeighbors++;
                                    // center right
                                    else if ((k == 1) && (l == 2) && (cells[((i + 1) == cells.length) ? 0 : (i + 1)][j] != 0))
                                            liveNeighbors++;
                                    // bottom right
                                    else if ((k == 2) && (l == 2) && (cells[((i + 1) == cells.length) ? 0 : (i + 1)][((j + 1) == cells[0].length) ? 0 : (j + 1)] != 0))
                                            liveNeighbors++;
                                }
                                // if not itself, which is at (1, 1)
                                else if (neighborCells[k][l] != "*")
                                {
                                    // top left
                                    if ((k == 0) && (l == 0) && (cells[i - 1][j - 1] != 0))
                                        liveNeighbors++;
                                    // center left
                                    else if ((k == 1) && (l == 0) && (cells[i - 1][j] != 0))
                                        liveNeighbors++;
                                    // bottom left
                                    else if ((k == 2) && (l == 0) && (cells[i - 1][j + 1] != 0))
                                        liveNeighbors++;
                                    // top middle
                                    else if ((k == 0) && (l == 1) && (cells[i][j - 1] != 0))
                                        liveNeighbors++;
                                    // bottom middle
                                    else if ((k == 2) && (l == 1) && (cells[i][j + 1] != 0))
                                        liveNeighbors++;
                                    // top right
                                    else if ((k == 0) && (l == 2) && (cells[i + 1][j - 1] != 0))
                                        liveNeighbors++;
                                    // center right
                                    else if ((k == 1) && (l == 2) && (cells[i + 1][j] != 0))
                                        liveNeighbors++;
                                    // bottom right
                                    else if ((k == 2) && (l == 2) && (cells[i + 1][j + 1] != 0))
                                        liveNeighbors++;
                                }
                            }
                        }
                        
                        // any dead cell with exactly three live neighbours becomes a live cell
                        if (cells[i][j] == 0 && liveNeighbors == 3)
                            nextGeneration[i][j] = 1;
                    
                        // any live cell with two or three live neighbours stays alive, any live cell with fewer than two live neighbours or more than three live neighbours dies
                        else if (cells[i][j] == 1 && (liveNeighbors < 2 || liveNeighbors > 3))
                            nextGeneration[i][j] = 0;
                    }
                }
                
                return nextGeneration;
            }
           
            // functions for the background
            function setBackgroundColor() {                
                if ($(this).scrollTop() >= 0 && $(this).scrollTop() < $(window).height())
                    $("#background").css("background-color", "red");
                else if ($(this).scrollTop() >= $(window).height() && $(this).scrollTop() < ($(window).height() * 2))
                    $("#background").css("background-color", "#535353");
                else if ($(this).scrollTop() >= ($(window).height() * 2) && $(this).scrollTop() < ($(window).height() * 3))
                    $("#background").css("background-color", "blue");
            }
            function setBackgroundSize() {
                $("#background").height($(window).height());
                $("#background").width($(window).width());
            }
            $(document).ready(function() {
                setBackgroundSize();
                setBackgroundColor();
            });
            $(function changeColor() {
                $(window).scroll(function() {
                    setBackgroundColor();
                });
            });
            
            // functions for the pages
            function setMainPage() {
                //$("#main").css("background-color", "rgba(0, 255, 0, 0.2)");
                $("#main").width($(window).width());
                $("#main").height($(window).height());
                
                $("#linkToAbout").css("padding-top", ($("#linkToAbout").height() - $("#aboutLinkText").height()) / 2);
                $("#linkToAbout").css("padding-bottom", ($("#linkToAbout").height() - $("#aboutLinkText").height()) / 2);
                
                $("#linkToPortfolio").css("padding-top", ($("#linkToPortfolio").height() - $("#aboutLinkText").height()) / 2);
                $("#linkToPortfolio").css("padding-bottom", ($("#linkToPortfolio").height() - $("#aboutLinkText").height()) / 2);
                
                $("#linkToAbout").height(($(window).height() * 0.1) - (parseFloat($("#linkToAbout").css("padding-top")) * 2));
                $("#linkToPortfolio").height(($(window).height() * 0.1) - (parseFloat($("#linkToPortfolio").css("padding-top")) * 2));
                
                $("#name").css("padding-left", $(window).width() * 0.1);
                $("#name").css("padding-right", $(window).width() * 0.1);
                $("#name").css("padding-top", $(window).height() * 0.1);
                $("#name").css("padding-bottom", $(window).height() * 0.1);
                $("#name").width($(window).width() * 0.8);
                $("#name").height($(window).height() * 0.6);
                
                if ($(window).width() > 500)
                    $("#name").css("font-size", ($(window).width() * 0.1) + "px");
                else
                    $("#name").css("font-size", ($(window).width() * 0.2) + "px");
            }
            function setAboutMePage() {
                //$("#aboutMe").css("background-color", "rgba(255, 0, 0, 0.2)");
                $("#aboutMe").css("padding-left", $(window).width() * 0.1);
                $("#aboutMe").css("padding-right", $(window).width() * 0.1);
                $("#aboutMe").css("padding-top", $(window).height() * 0.1);
                $("#aboutMe").css("padding-bottom", $(window).height() * 0.1);
                $("#aboutMe").width($(window).width() * 0.8);
                $("#aboutMe").height($(window).height() * 0.8);
                
                $("#bio").css("padding", "20px");
                $("#bio").css("font-size", "16px");
            }
            function setPortfolioPage() {
                $("#portfolio").css("background-color", "rgba(0, 0, 255, 0.2)");
                $("#portfolio").css("padding-left", $(window).width() * 0.05);
                $("#portfolio").css("padding-right", $(window).width() * 0.05);
                $("#portfolio").css("padding-top", $(window).height() * 0.1);
                $("#portfolio").css("padding-bottom", $(window).height() * 0.1);
                $("#portfolio").width($(window).width() * 0.9);
                
                $(".project").each(function() {
                    $(this).height($(this).width());
                });
                
                if ($("#portfolio").height() < ($(window).height() * 0.8))
                    $("#portfolio").height($(window).height() * 0.8);
            }
            
            setMainPage();
            setAboutMePage();
            setPortfolioPage();
            
            var gridSize = 50; // in pixels
            var stepDelay = 100; // in milliseconds
            var canvas = document.getElementById("gameOfLife");
            
            setCanvasGrid(canvas, gridSize, 1000);
            var cells = initialState(canvas, gridSize);
            run(cells, stepDelay);
            
            // Portfolio gallery
            var containerEl = document.querySelector('#portfolioContainer');
            var mixer = mixitup(containerEl);
            
            // Smooth scrolling for links to About Me and Portfolio pages
            $("#aboutLinkText").click(function() {
                $('html, body').animate({
                    scrollTop: $("#aboutMe").offset().top
                }, 1000);
            });
            $("#portfolioLinkText").click(function() {
                $('html, body').animate({
                    scrollTop: $("#portfolio").offset().top
                }, 1000);
            });
            
            // Redraw grid and reset pages whenever the window is resized
            $(window).resize(function() {
                setMainPage();
                setAboutMePage();
                setPortfolioPage();
                setBackgroundSize();
                setCanvasGrid(canvas, gridSize, 0);
                cells = initialState(canvas, gridSize);
                drawAllCells(canvas, gridSize, cells);
                run(cells, stepDelay);
            });
        </script>
    </body>
</html>